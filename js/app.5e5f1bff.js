(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0518":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("app-side-bar",{staticClass:"sidebar"}),s("div",{staticClass:"content"},[s("app-base-map",{directives:[{name:"show",rawName:"v-show",value:"map"===t.contentState,expression:"contentState === 'map'"}],staticClass:"map"}),s("app-analysis",{directives:[{name:"show",rawName:"v-show",value:"analysis"===t.contentState,expression:"contentState === 'analysis'"}],staticClass:"analysis"})],1),s("app-survey",{attrs:{id:"dialog-survey",show:t.showSurvey},on:{finished:function(e){t.showSurvey=!1}}})],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.mapLoading,expression:"mapLoading"}],ref:"map",staticClass:"map-container"},[s("div",{staticClass:"center-overlay center-overlay-top"}),s("div",{staticClass:"center-overlay center-overlay-left"}),s("div",{staticClass:"center-overlay center-overlay-right"}),s("div",{staticClass:"center-overlay center-overlay-bottom"}),s("el-button-group",{staticClass:"analyze-button"},[s("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-magic-stick"}},[t._v(" 이 구역 분석하기 ")]),s("el-button",{attrs:{round:"",icon:"el-icon-aim",loading:t.currentLocationLoading},on:{click:t.setCurrentLocationCoords}},[t._v(" 현재 위치 보기 ")])],1)],1)},o=[],c=(s("d81d"),s("96cf"),s("1da1")),u={data:function(){return{map:null,marker:null,mapLoading:!0,currentLocationLoading:!1}},computed:{place:function(){return this.$store.state.place},coords:function(){return this.$store.state.coords}},watch:{coords:function(){this.updateCenterMarker()}},mounted:function(){this.mapLoading=!0,this.createMap(),this.mapLoading=!1},methods:{createMap:function(){var t=this,e=new kakao.maps.LatLng(this.coords.latitude,this.coords.longitude);this.map=new kakao.maps.Map(this.$refs.map,{center:e,level:5,mapTypeId:kakao.maps.MapTypeId.HYBRID,scrollwheel:!1}),kakao.maps.event.addListener(this.map,"dragend",(function(){var e=t.map.getCenter();t.$store.commit("setCoords",{latitude:e.getLat(),longitude:e.getLng()})}))},updateCenterMarker:function(){if(this.map){var t=new kakao.maps.LatLng(this.coords.latitude,this.coords.longitude);this.marker||(this.marker=new kakao.maps.Marker({position:t}),this.marker.setMap(this.map)),this.marker.setPosition(t),this.map.setCenter(t)}},setCurrentLocationCoords:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentLocationLoading=!0,e.next=3,t.$store.dispatch("setCurrentLocationCoords");case 3:t.currentLocationLoading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},l=u,d=(s("df3f"),s("2877")),p=Object(d["a"])(l,i,o,!1,null,"4d2a208a",null),v=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{center:"","close-on-click-modal":!1,"show-close":!1,visible:t.show,width:"600px"},on:{"update:visible":function(e){t.show=e}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(" 간단한 설문조사로 당신의 주거 성향을 파악합니다. ")]),a("span",[t._v(" 주거 쾌적도란? ㅇㅇㅇ ")]),a("el-steps",{attrs:{active:t.step,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"주거 형태"}}),a("el-step",{attrs:{title:"주거 환경"}})],1),0==t.step?a("div",{staticClass:"survey-step"},[a("p",[t._v("어떤 주거 형태가 더 좋으세요?")]),a("div",{staticClass:"survey-items"},[a("div",{staticClass:"survey-item",class:{active:"apartment"==t.houseType},on:{click:function(e){t.houseType="apartment"}}},[a("div",{staticClass:"survey-item-icon"},[a("img",{attrs:{src:s("fd9d")}})]),a("span",[t._v("아파트")])]),a("div",{staticClass:"survey-item",class:{active:"flat"==t.houseType},on:{click:function(e){t.houseType="flat"}}},[a("div",{staticClass:"survey-item-icon"},[a("img",{attrs:{src:s("86e6")}})]),a("span",[t._v("주택")])])]),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-right",round:""},on:{click:function(e){return t.nextStep(t.houseType)}}},[t._v(" 다음 ")])],1)]):t._e(),1==t.step?a("div",{staticClass:"survey-step"},[a("p",[t._v("어디서 사는 게 더 좋으세요?")]),a("div",{staticClass:"survey-items"},[a("div",{staticClass:"survey-item",class:{active:"urban"==t.areaType},on:{click:function(e){t.areaType="urban"}}},[a("div",{staticClass:"survey-item-icon"},[a("img",{attrs:{src:s("8f1a")}})]),a("span",[t._v("시내")])]),a("div",{staticClass:"survey-item",class:{active:"suburb"==t.areaType},on:{click:function(e){t.areaType="suburb"}}},[a("div",{staticClass:"survey-item-icon"},[a("img",{attrs:{src:s("a58c")}})]),a("span",[t._v("교외")])])]),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-right",round:""},on:{click:function(e){return t.nextStep(t.areaType)}}},[t._v(" 다음 ")])],1)]):t._e(),2==t.step?a("div",{staticClass:"survey-step"},[a("h1",[t._v("완료되었습니다")]),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",round:""},on:{click:t.finish}},[t._v(" 시작하기 ")])],1)]):t._e()],1)},m=[],h={props:["show"],data:function(){return{step:0,houseType:null,areaType:null}},methods:{nextStep:function(t){t&&(this.step+=1)},finish:function(){this.$store.commit("setSurvey",{houseType:this.houseType,areaType:this.areaType}),this.$emit("finished")}}},y=h,b=(s("daf9"),Object(d["a"])(y,f,m,!1,null,"65904bd8",null)),g=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar-container"},[s("div",{staticClass:"sidebar-header"},[s("h1",[t._v("주거 쾌적도 탐색기🌳")]),s("el-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getAddress(e)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:t.getAddress},slot:"suffix"})]),s("div",{staticClass:"sidebar-nav"},[s("el-button",{staticClass:"sidebar-nav-button",class:{active:0==t.activeNavState},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.activeNavState=0}}},[t._v(" 검색 ")]),s("el-button",{staticClass:"sidebar-nav-button",class:{active:1==t.activeNavState},attrs:{type:"primary",icon:"el-icon-collection-tag"},on:{click:function(e){t.activeNavState=1}}},[t._v(" 분석 기록 ")])],1)],1),0===t.activeNavState?s("div",{staticClass:"sidebar-content"},[0==t.results.length?s("div",{staticClass:"search-results-empty"},[t._v(" 검색창에 알고 싶은 장소를 입력하세요. ")]):t._e(),t.results.length>0?s("div",[s("div",{staticClass:"search-results-meta"},[s("span",[t._v("전체 결과 "+t._s(t.results.length)+"건")]),s("el-button",{attrs:{icon:"el-icon-close",circle:"",size:"mini"},on:{click:t.clearResults}})],1),s("ul",{staticClass:"search-results"},t._l(t.results,(function(e,a){return s("li",{key:a,staticClass:"search-result",class:{active:t.activeResult===e}},[s("a",{staticClass:"search-result-content",attrs:{href:"#"},on:{click:function(s){return t.selectResult(e)}}},[s("h4",[s("i",{staticClass:"el-icon-place"}),t._v(t._s(e.meta.name))]),s("small",[t._v(t._s(e.meta.address))])]),s("div",{staticClass:"search-result-actions"},[s("el-button",{attrs:{icon:"el-icon-magic-stick"}},[t._v(" 분석 ")])],1)])})),0)]):t._e()]):t._e(),1===t.activeNavState?s("div",{staticClass:"sidebar-content"},[s("ul",{staticClass:"history-items"})]):t._e()])},_=[],k={data:function(){return{query:"",results:[],activeResult:null,activeNavState:0}},methods:{getAddress:function(){var t=this;this.$http.get("https://dapi.kakao.com/v2/local/search/keyword.json",{headers:{Authorization:"KakaoAK ".concat("04caa1e5f29633d4fb303a460b58d176")},params:{query:this.query}}).then((function(e){var s=e.data;t.results=s.documents.map((function(t){return{meta:{name:t.place_name,address:t.road_address_name,category:t.category},coords:{latitude:t.y,longitude:t.x}}})),t.results.length>0&&t.selectResult(t.results[0])}))},selectResult:function(t){this.activeResult=t,this.$store.commit("setPlace",t.place),this.$store.commit("setCoords",t.coords)},clearResults:function(){this.query="",this.results=[],this.activeResult=null}}},w=k,x=(s("8a06"),Object(d["a"])(w,C,_,!1,null,"0bb9bd38",null)),L=x.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"analysis-container"},[s("ul",{staticClass:"scores"},t._l(t.scores,(function(e,a){return s("li",{key:a,staticClass:"score"},[s("i",{staticClass:"el-icon-star-on"}),s("span",{staticClass:"score-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"score-number"},[t._v(t._s(e.score))])])})),0)])},T=[],O={data:function(){return{scores:[{name:"녹지",desc:"구역 내 녹지 비율",score:0}]}}},j=O,$=(s("7bf3"),Object(d["a"])(j,S,T,!1,null,"97aa734e",null)),R=$.exports,M={name:"App",components:{AppBaseMap:v,AppSurvey:g,AppSideBar:L,AppAnalysis:R},data:function(){return{showSurvey:!0,contentState:"map"}}},P=M,A=(s("87de"),Object(d["a"])(P,n,r,!1,null,"0ad9bdc6",null)),N=A.exports,q=s("5c96"),E=s.n(q),z=(s("0fae"),s("fcff")),B=s.n(z);a["default"].use(E.a,{locale:B.a});var I=s("2106"),H=s.n(I),J=s("bc3a"),K=s.n(J);a["default"].use(H.a,K.a);s("d3b7");var D=s("2f62");a["default"].use(D["a"]);var Y={name:"성균관대학교 자연과학캠퍼스",address:"경기도 수원시 장안구 율천동 서부로 2066"},F={latitude:37.290553,longitude:126.9737686},G=function(){return new Promise((function(t){navigator.geolocation.getCurrentPosition((function(e){var s=e.coords;return t({latitude:s.latitude,longitude:s.longitude})}))}))},Q=new D["a"].Store({state:{survey:null,scores:[],place:Y,placeHistory:[],coords:F,currentLocationCoords:null},mutations:{setSurvey:function(t,e){return t.survey=e},setPlace:function(t,e){return t.place=e},setCoords:function(t,e){return t.coords=e},setCurrentLocationCoords:function(t,e){return t.currentLocationCoords=e}},actions:{setCurrentLocationCoords:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.commit,a=t.state,a.currentLocationCoords){e.next=7;break}return e.t0=s,e.next=5,G();case 5:e.t1=e.sent,(0,e.t0)("setCurrentLocationCoords",e.t1);case 7:s("setCoords",a.currentLocationCoords);case 8:case"end":return e.stop()}}),e)})))()}}});a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(N)},store:Q}).$mount("#app")},6249:function(t,e,s){},"7bf3":function(t,e,s){"use strict";s("c5b8")},"86e6":function(t,e,s){t.exports=s.p+"img/home.476b04bf.svg"},"87de":function(t,e,s){"use strict";s("8a7c")},"8a06":function(t,e,s){"use strict";s("0518")},"8a7c":function(t,e,s){},"8f1a":function(t,e,s){t.exports=s.p+"img/buildings.a153d815.svg"},a58c:function(t,e,s){t.exports=s.p+"img/field.db4311c5.svg"},b899:function(t,e,s){},c5b8:function(t,e,s){},daf9:function(t,e,s){"use strict";s("6249")},df3f:function(t,e,s){"use strict";s("b899")},fd9d:function(t,e,s){t.exports=s.p+"img/apartment.037131f3.svg"}});
//# sourceMappingURL=app.5e5f1bff.js.map